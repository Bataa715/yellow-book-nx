(()=>{var e={};e.id=620,e.ids=[620],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7093:(e,s,t)=>{Promise.resolve().then(t.bind(t,31569)),Promise.resolve().then(t.t.bind(t,49989,23)),Promise.resolve().then(t.t.bind(t,75636,23))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20276:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(13486);t(60159);var r=t(76353),l=t(26518);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,...t}){return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:s}),e),...t})}},25282:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(46764).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},29221:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(89649).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29563:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>i});var a=t(13486),r=t(60159),l=t(26518);let n=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let i=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle";let c=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},30270:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var a=t(38828);t(61365);var r=t(94455),l=t(43128);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,...t}){return(0,a.jsx)("div",{className:(0,l.cn)(n({variant:s}),e),...t})}},31569:(e,s,t)=>{"use strict";t.d(s,{LoadMoreButton:()=>j});var a=t(13486),r=t(60159),l=t(74941);async function n(e){let s=new URLSearchParams;e?.limit&&s.set("limit",e.limit.toString()),e?.offset&&s.set("offset",e.offset.toString()),e?.category&&s.set("category",e.category),e?.search&&s.set("search",e.search);let t=`http://localhost:3001/api/yellow-books${s.toString()?`?${s}`:""}`,a=await fetch(t,{next:{revalidate:60}});if(!a.ok)throw Error(`Failed to fetch yellow books: ${a.statusText}`);return a.json()}var i=t(29563),o=t(20276),c=t(83821),d=t(29221),m=t(89649);let x=(0,m.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),p=(0,m.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),f=(0,m.A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var u=t(49989),h=t.n(u),g=t(49933);function v({entry:e}){return(0,a.jsxs)(i.Zp,{className:"flex flex-col hover:shadow-lg transition-shadow",children:[e.logo&&(0,a.jsx)("div",{className:"relative h-48 w-full",children:(0,a.jsx)(g.default,{src:e.logo,alt:e.name,fill:!0,className:"object-cover rounded-t-lg"})}),(0,a.jsxs)(i.aR,{children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsx)(i.ZB,{className:"line-clamp-1",children:e.name}),e.rating&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,a.jsx)("span",{className:"font-medium",children:e.rating})]})]}),(0,a.jsx)(i.BT,{className:"line-clamp-2",children:e.description})]}),(0,a.jsxs)(i.Wu,{className:"flex-1 flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.categories.slice(0,3).map((e,s)=>(0,a.jsx)(o.E,{variant:"secondary",children:e},s))}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"line-clamp-2",children:e.address.full})]}),e.contact.phone.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{children:e.contact.phone[0]})]}),e.contact.email&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.contact.email})]}),e.contact.website&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("a",{href:e.contact.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline truncate",children:"Website"})]})]}),(0,a.jsx)("div",{className:"mt-auto pt-4",children:(0,a.jsx)(h(),{href:`/business/${e.id}`,children:(0,a.jsx)(l.$,{className:"w-full",variant:"outline",children:"View Details"})})})]})]})}function j({initialPagination:e}){let[s,t]=(0,r.useState)([]),[i,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(e),m=async()=>{try{o(!0);let e=await n({limit:c.limit,offset:c.offset+c.limit});t([...s,...e.data]),d(e.pagination)}catch(e){console.error("Error loading more entries:",e)}finally{o(!1)}};return(0,a.jsxs)(a.Fragment,{children:[s.length>0&&(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 mb-8",children:s.map(e=>(0,a.jsx)(v,{entry:e},e.id))}),c.hasMore&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(l.$,{onClick:m,disabled:i,size:"lg",children:i?"Loading...":"Load More"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Showing ",20+s.length," of ",c.total," entries"]})]})]})}},31825:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y,revalidate:()=>j});var a=t(38828),r=t(61365),l=t(66921),n=t(90698),i=t(46656),o=t(30270),c=t(82007),d=t(56203),m=t(76435),x=t(44495);let p=(0,t(46764).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);var f=t(25282),u=t(42671),h=t.n(u),g=t(14299);function v({entry:e}){return(0,a.jsxs)(l.Zp,{className:"flex flex-col hover:shadow-lg transition-shadow",children:[e.logo&&(0,a.jsx)("div",{className:"relative h-48 w-full",children:(0,a.jsx)(g.default,{src:e.logo,alt:e.name,fill:!0,className:"object-cover rounded-t-lg"})}),(0,a.jsxs)(l.aR,{children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsx)(l.ZB,{className:"line-clamp-1",children:e.name}),e.rating&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,a.jsx)("span",{className:"font-medium",children:e.rating})]})]}),(0,a.jsx)(l.BT,{className:"line-clamp-2",children:e.description})]}),(0,a.jsxs)(l.Wu,{className:"flex-1 flex flex-col gap-4",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.categories.slice(0,3).map((e,s)=>(0,a.jsx)(o.E,{variant:"secondary",children:e},s))}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,a.jsx)("span",{className:"line-clamp-2",children:e.address.full})]}),e.contact.phone.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{children:e.contact.phone[0]})]}),e.contact.email&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.contact.email})]}),e.contact.website&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 flex-shrink-0"}),(0,a.jsx)("a",{href:e.contact.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline truncate",children:"Website"})]})]}),(0,a.jsx)("div",{className:"mt-auto pt-4",children:(0,a.jsx)(h(),{href:`/business/${e.id}`,children:(0,a.jsx)(c.$,{className:"w-full",variant:"outline",children:"View Details"})})})]})]})}let j=60;async function b(e=20,s=0){try{let t=await fetch(`http://localhost:3001/api/yellow-books?limit=${e}&offset=${s}`,{next:{revalidate:60}});if(!t.ok)throw Error("Failed to fetch businesses");return await t.json()}catch(t){return console.error("Error fetching businesses:",t),{data:[],pagination:{total:0,limit:e,offset:s,hasMore:!1}}}}async function N(){try{let e=await fetch("http://localhost:3001/api/categories",{next:{revalidate:60}}),s=e.ok?await e.json():[],t=await fetch("http://localhost:3001/api/yellow-books?limit=1",{next:{revalidate:60}}),r=t.ok?await t.json():{pagination:{total:0}};return(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:r.pagination?.total||0}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"Нийт бизнес"})]})}),(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.length||0}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"Ангилал"})]})})]})}catch{return(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"-"}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"Нийт бизнес"})]})}),(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-4",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:"-"}),(0,a.jsx)("div",{className:"text-muted-foreground",children:"Ангилал"})]})})]})}}function w(){return(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-4",children:[(0,a.jsx)(n.E,{className:"h-8 w-16 mb-2"}),(0,a.jsx)(n.E,{className:"h-4 w-20"})]})}),(0,a.jsx)(l.Zp,{children:(0,a.jsxs)(l.Wu,{className:"p-4",children:[(0,a.jsx)(n.E,{className:"h-8 w-16 mb-2"}),(0,a.jsx)(n.E,{className:"h-4 w-16"})]})})]})}async function y(){let e=await b(20,0);return(0,a.jsxs)("div",{className:"container py-12",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Yellow Books"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Browse all business listings in our directory"})]}),(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)(w,{}),children:(0,a.jsx)(N,{})}),(0,a.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.data.map(e=>(0,a.jsx)(v,{entry:e},e.id))}),e.pagination.hasMore&&(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsx)(i.LoadMoreButton,{initialPagination:e.pagination})})]})}},32741:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var a=t(24332),r=t(48819),l=t(67851),n=t.n(l),i=t(97540),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c={children:["",{children:["yellow-books",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,31825)),"C:\\Users\\Dell\\Documents\\Yellowbook\\Yellow-book\\apps\\web\\src\\app\\yellow-books\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,64356)),"C:\\Users\\Dell\\Documents\\Yellowbook\\Yellow-book\\apps\\web\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,70331)),"C:\\Users\\Dell\\Documents\\Yellowbook\\Yellow-book\\apps\\web\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,87239)),"C:\\Users\\Dell\\Documents\\Yellowbook\\Yellow-book\\apps\\web\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\Dell\\Documents\\Yellowbook\\Yellow-book\\apps\\web\\src\\app\\yellow-books\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/yellow-books/page",pathname:"/yellow-books",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},33873:e=>{"use strict";e.exports=require("path")},44382:(e,s,t)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,s){for(var t in s)Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}(s,{default:function(){return o},getImageProps:function(){return i}});let a=t(25121),r=t(69356),l=t(75636),n=a._(t(92122));function i(e){let{props:s}=(0,r.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(s))void 0===t&&delete s[e];return{props:s}}let o=l.Image},46656:(e,s,t)=>{"use strict";t.d(s,{LoadMoreButton:()=>a});let a=(0,t(33952).registerClientReference)(function(){throw Error("Attempted to call LoadMoreButton() from the server but LoadMoreButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Dell\\Documents\\Yellowbook\\Yellow-book\\apps\\web\\src\\app\\yellow-books\\load-more-button.tsx","LoadMoreButton")},49933:(e,s,t)=>{"use strict";t.d(s,{default:()=>r.a});var a=t(44382),r=t.n(a)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65237:(e,s,t)=>{Promise.resolve().then(t.bind(t,46656)),Promise.resolve().then(t.t.bind(t,42671,23)),Promise.resolve().then(t.t.bind(t,56082,23))},66921:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>i});var a=t(38828),r=t(61365),l=t(43128);let n=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let i=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle";let c=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));c.displayName="CardDescription";let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent",r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},79551:e=>{"use strict";e.exports=require("url")},83821:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(89649).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[50,877,255,493,786],()=>t(32741));module.exports=a})();