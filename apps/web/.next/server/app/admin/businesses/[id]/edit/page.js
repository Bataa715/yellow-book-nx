(()=>{var e={};e.id=350,e.ids=[350],e.modules={791:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(9649).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1937:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(9649).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2087:(e,s,r)=>{"use strict";r.d(s,{C5:()=>j,MJ:()=>f,Rr:()=>g,eI:()=>x,lR:()=>h,lV:()=>d,zB:()=>m});var t=r(3486),i=r(159),a=r(9082),o=r(5626),n=r(6518),l=r(1571);let d=o.Op,c=i.createContext({}),m=({...e})=>(0,t.jsx)(c.Provider,{value:{name:e.name},children:(0,t.jsx)(o.xI,{...e})}),p=()=>{let e=i.useContext(c),s=i.useContext(u),{getFieldState:r,formState:t}=(0,o.xW)(),a=r(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=s;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...a}},u=i.createContext({}),x=i.forwardRef(({className:e,...s},r)=>{let a=i.useId();return(0,t.jsx)(u.Provider,{value:{id:a},children:(0,t.jsx)("div",{ref:r,className:(0,n.cn)("space-y-2",e),...s})})});x.displayName="FormItem";let h=i.forwardRef(({className:e,...s},r)=>{let{error:i,formItemId:a}=p();return(0,t.jsx)(l.J,{ref:r,className:(0,n.cn)(i&&"text-destructive",e),htmlFor:a,...s})});h.displayName="FormLabel";let f=i.forwardRef(({...e},s)=>{let{error:r,formItemId:i,formDescriptionId:o,formMessageId:n}=p();return(0,t.jsx)(a.DX,{ref:s,id:i,"aria-describedby":r?`${o} ${n}`:`${o}`,"aria-invalid":!!r,...e})});f.displayName="FormControl";let g=i.forwardRef(({className:e,...s},r)=>{let{formDescriptionId:i}=p();return(0,t.jsx)("p",{ref:r,id:i,className:(0,n.cn)("text-sm text-muted-foreground",e),...s})});g.displayName="FormDescription";let j=i.forwardRef(({className:e,children:s,...r},i)=>{let{error:a,formMessageId:o}=p(),l=a?String(a?.message??""):s;return l?(0,t.jsx)("p",{ref:i,id:o,className:(0,n.cn)("text-sm font-medium text-destructive",e),...r,children:l}):null});j.displayName="FormMessage"},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3368:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(9649).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},3627:(e,s,r)=>{"use strict";r.d(s,{T:()=>o});var t=r(3486),i=r(159),a=r(6518);let o=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));o.displayName="Textarea"},3873:e=>{"use strict";e.exports=require("path")},4354:(e,s,r)=>{"use strict";r.d(s,{S:()=>l});var t=r(3486),i=r(159),a=r(9140),o=r(925),n=r(6518);let l=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)(a.bL,{ref:r,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:(0,t.jsx)(a.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})}));l.displayName=a.bL.displayName},4382:(e,s,r)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,s){for(var r in s)Object.defineProperty(e,r,{enumerable:!0,get:s[r]})}(s,{default:function(){return l},getImageProps:function(){return n}});let t=r(686),i=r(9356),a=r(5636),o=t._(r(2122));function n(e){let{props:s}=(0,i.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(s))void 0===r&&delete s[e];return{props:s}}let l=a.Image},4397:(e,s,r)=>{"use strict";r.d(s,{zA:()=>M});var t=r(3958),i=r(1),a=r(4896),o=r(2304),n=r(3095),l=r(2509),d=r(7338),c=r(1554),m=r(7921),p=r(9353),u=r(4183),x=r(350),h=r(6544),f=r(2074),g=r(327),j=r(8778),b=r(8847),v=r(1485),y=r(2866),w=r(1766),A=r(5607),N=r(8521),k=r(2665),C=r(2832),R=r(819);let P=JSON.parse('{"o":[{"id":"restaurant-1","description":"A cozy restaurant interior","imageUrl":"https://picsum.photos/seed/restaurant1/800/600","imageHint":"restaurant interior"},{"id":"restaurant-2","description":"A plate of delicious food","imageUrl":"https://picsum.photos/seed/food1/800/600","imageHint":"delicious food"},{"id":"cafe-1","description":"A modern cafe with people","imageUrl":"https://picsum.photos/seed/cafe1/800/600","imageHint":"modern cafe"},{"id":"cafe-2","description":"A cup of coffee on a table","imageUrl":"https://picsum.photos/seed/coffee1/800/600","imageHint":"cup coffee"},{"id":"shop-1","description":"A clothing store interior","imageUrl":"https://picsum.photos/seed/shop1/800/600","imageHint":"clothing store"},{"id":"plumber-1","description":"A plumber fixing a sink","imageUrl":"https://picsum.photos/seed/plumber1/800/600","imageHint":"plumber working"},{"id":"logo-1","description":"Modern Bull logo","imageUrl":"https://picsum.photos/seed/logo1/200/200","imageHint":"modern logo"},{"id":"logo-2","description":"Cafe cup logo","imageUrl":"https://picsum.photos/seed/logo2/200/200","imageHint":"cafe logo"},{"id":"logo-3","description":"Fashion brand logo","imageUrl":"https://picsum.photos/seed/logo3/200/200","imageHint":"fashion logo"},{"id":"logo-4","description":"Plumbing service logo","imageUrl":"https://picsum.photos/seed/logo4/200/200","imageHint":"service logo"},{"id":"avatar-1","description":"Avatar of a person","imageUrl":"https://picsum.photos/seed/avatar1/100/100","imageHint":"person avatar"},{"id":"avatar-2","description":"Avatar of another person","imageUrl":"https://picsum.photos/seed/avatar2/100/100","imageHint":"person avatar"},{"id":"avatar-3","description":"Avatar of a third person","imageUrl":"https://picsum.photos/seed/avatar3/100/100","imageHint":"person avatar"},{"id":"hero-bg","description":"Ulaanbaatar city view","imageUrl":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRkklxrz7rKS2lSsr2KKqM0YJY7GrpcB2mHfA&s","imageHint":"ulaanbaatar city"}]}').o,z=e=>P.find(s=>s.id===e)?.imageUrl||`https://picsum.photos/seed/${e}/800/600`;z("restaurant-1"),z("restaurant-2"),z("logo-1"),z("cafe-1"),z("cafe-2"),z("logo-2"),z("shop-1"),z("logo-3"),z("plumber-1"),z("logo-4"),z("avatar-1"),z("avatar-2"),z("avatar-3");let M=[{id:"1",name:"Ресторан",icon:t.A},{id:"2",name:"Кафе",icon:i.A},{id:"3",name:"Дэлгүүр",icon:a.A},{id:"4",name:"Үйлчилгээ",icon:o.A},{id:"5",name:"Авто засвар",icon:n.A},{id:"7",name:"Эрүүл мэнд",icon:l.A},{id:"8",name:"Гоо сайхан",icon:d.A},{id:"6",name:"Бусад",icon:c.A}];t.A,i.A,a.A,o.A,n.A,l.A,d.A,m.A,p.A,u.A,x.A,h.A,f.A,g.A,j.A,b.A,v.A,y.A,w.A,A.A,N.A,k.A,C.A,R.A,c.A},5976:(e,s,r)=>{Promise.resolve().then(r.bind(r,6682))},6248:(e,s,r)=>{Promise.resolve().then(r.bind(r,9556))},6682:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>k});var t=r(3486),i=r(159),a=r(2984),o=r(5626),n=r(5519),l=r(8509),d=r(4941),c=r(2087),m=r(3025),p=r(9563),u=r(8734),x=r(3627),h=r(4397),f=r(4354),g=r(791),j=r(3368),b=r(9548),v=r(1937),y=r(9989),w=r.n(y),A=r(9933);let N=l.Ik({businessName:l.Yj().min(2,"Нэр дор хаяж 2 үсэгтэй байх ёстой."),description:l.Yj().min(20,"Тайлбар дор хаяж 20 тэмдэгттэй байх ёстой."),categories:l.YO(l.Yj()).min(1,"Дор хаяж нэг ангилал сонгоно уу."),phone:l.Yj().min(8,"Утасны дугаар буруу байна."),email:l.Yj().email("Имэйл хаяг буруу байна.").optional().or(l.eu("")),website:l.Yj().url("Вэбсайт хаяг буруу байна.").optional().or(l.eu("")),address:l.Yj().min(5,"Хаяг дор хаяж 5 тэмдэгттэй байх ёстой."),images:l.YO(l.Yj()).default([])});function k(){let e=(0,a.useParams)(),s=(0,a.useRouter)(),r=e.id,{toast:l}=(0,u.dj)(),[y,k]=(0,i.useState)(null),[C,R]=(0,i.useState)(!0),P=(0,o.mN)({resolver:(0,n.u)(N),mode:"onChange",defaultValues:{businessName:"",description:"",categories:[],phone:"",email:"",website:"",address:"",images:[]}});async function z(e){try{let t=await fetch(`http://localhost:3001/api/yellow-books/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to update business");await t.json(),l({title:"Амжилттай шинэчиллээ!",description:`"${e.businessName}" нэртэй бизнес амжилттай засагдлаа.`}),s.push("/admin/businesses")}catch(e){console.error("Error updating business:",e),l({variant:"destructive",title:"Алдаа",description:"Бизнесийн мэдээллийг шинэчлэхэд алдаа гарлаа."})}}let{fields:M,append:U,remove:I}=(0,o.jz)({control:P.control,name:"images"});return C?(0,t.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,t.jsx)(g.A,{className:"h-12 w-12 animate-spin text-primary"})}):y?(0,t.jsxs)("div",{className:"container mx-auto max-w-4xl py-12 px-4 md:px-6",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(d.$,{asChild:!0,variant:"outline",children:(0,t.jsxs)(w(),{href:"/admin/businesses",children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Бизнесийн жагсаалт руу буцах"]})})}),(0,t.jsxs)(p.Zp,{className:"shadow-xl",children:[(0,t.jsxs)(p.aR,{children:[(0,t.jsx)(p.ZB,{className:"text-3xl font-headline",children:"Бизнес засах"}),(0,t.jsxs)(p.BT,{children:['"',y.name,'"-н мэдээллийг шинэчлэх.']})]}),(0,t.jsx)(p.Wu,{children:(0,t.jsx)(c.lV,{...P,children:(0,t.jsxs)("form",{onSubmit:P.handleSubmit(z),className:"space-y-8",children:[(0,t.jsx)(c.zB,{control:P.control,name:"businessName",render:({field:e})=>(0,t.jsxs)(c.eI,{children:[" ",(0,t.jsx)(c.lR,{children:"Бизнесийн нэр"})," ",(0,t.jsxs)(c.MJ,{children:[" ",(0,t.jsx)(m.p,{...e})," "]})," ",(0,t.jsx)(c.C5,{})," "]})}),(0,t.jsx)(c.zB,{control:P.control,name:"description",render:({field:e})=>(0,t.jsxs)(c.eI,{children:[" ",(0,t.jsx)(c.lR,{children:"Дэлгэрэнгүй тайлбар"})," ",(0,t.jsxs)(c.MJ,{children:[" ",(0,t.jsx)(x.T,{rows:6,...e})," "]})," ",(0,t.jsx)(c.C5,{})," "]})}),(0,t.jsx)(c.zB,{control:P.control,name:"categories",render:()=>(0,t.jsxs)(c.eI,{children:[" ",(0,t.jsx)(c.lR,{children:"Ангилал"})," ",(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-2",children:[" ",h.zA.map(e=>(0,t.jsx)(c.zB,{control:P.control,name:"categories",render:({field:s})=>(0,t.jsxs)(c.eI,{className:"flex flex-row items-start space-x-3 space-y-0",children:[" ",(0,t.jsxs)(c.MJ,{children:[" ",(0,t.jsx)(f.S,{checked:s.value?.includes(e.name),onCheckedChange:r=>r?s.onChange([...s.value,e.name]):s.onChange(s.value?.filter(s=>s!==e.name))})," "]})," ",(0,t.jsx)(c.lR,{className:"font-normal",children:e.name})," "]},e.id)},e.id))," "]})," ",(0,t.jsx)(c.C5,{})," "]})}),(0,t.jsx)(c.zB,{control:P.control,name:"images",render:()=>(0,t.jsxs)(c.eI,{children:[(0,t.jsx)(c.lR,{children:"Зургийн цомог"}),(0,t.jsx)(c.Rr,{children:"Зургийн URL-уудыг оруулна уу."}),(0,t.jsxs)("div",{className:"space-y-4",children:[M.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"relative w-16 h-16 rounded-md overflow-hidden border",children:(0,t.jsx)(A.default,{src:P.watch(`images.${s}`)||"https://picsum.photos/200/200?grayscale",alt:`Зураг ${s+1}`,fill:!0,className:"object-cover"})}),(0,t.jsx)(c.zB,{control:P.control,name:`images.${s}`,render:({field:e})=>(0,t.jsx)(m.p,{...e,className:"flex-grow",placeholder:"https://example.com/image.jpg"})}),(0,t.jsx)(d.$,{type:"button",variant:"destructive",size:"icon",onClick:()=>I(s),children:(0,t.jsx)(b.A,{className:"h-4 w-4"})})]},e.id)),(0,t.jsxs)(d.$,{type:"button",variant:"outline",onClick:()=>U(""),children:[(0,t.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Шинэ зураг нэмэх"]})]}),(0,t.jsx)(c.C5,{})]})}),(0,t.jsx)(c.zB,{control:P.control,name:"phone",render:({field:e})=>(0,t.jsxs)(c.eI,{children:[" ",(0,t.jsx)(c.lR,{children:"Утасны дугаар"})," ",(0,t.jsxs)(c.MJ,{children:[" ",(0,t.jsx)(m.p,{...e})," "]})," ",(0,t.jsx)(c.Rr,{children:"Олон дугаар бол таслалаар (,) тусгаарлана уу."})," ",(0,t.jsx)(c.C5,{})," "]})}),(0,t.jsx)(c.zB,{control:P.control,name:"email",render:({field:e})=>(0,t.jsxs)(c.eI,{children:[" ",(0,t.jsx)(c.lR,{children:"Имэйл хаяг"})," ",(0,t.jsxs)(c.MJ,{children:[" ",(0,t.jsx)(m.p,{type:"email",...e})," "]})," ",(0,t.jsx)(c.C5,{})," "]})}),(0,t.jsx)(c.zB,{control:P.control,name:"website",render:({field:e})=>(0,t.jsxs)(c.eI,{children:[" ",(0,t.jsx)(c.lR,{children:"Вэбсайт"})," ",(0,t.jsxs)(c.MJ,{children:[" ",(0,t.jsx)(m.p,{...e})," "]})," ",(0,t.jsx)(c.C5,{})," "]})}),(0,t.jsx)(c.zB,{control:P.control,name:"address",render:({field:e})=>(0,t.jsxs)(c.eI,{children:[" ",(0,t.jsx)(c.lR,{children:"Дэлгэрэнгүй хаяг"})," ",(0,t.jsxs)(c.MJ,{children:[" ",(0,t.jsx)(m.p,{...e})," "]})," ",(0,t.jsx)(c.C5,{})," "]})}),(0,t.jsx)(d.$,{type:"submit",size:"lg",className:"w-full",children:"Хадгалах"})]})})})]})]}):(0,t.jsx)("div",{className:"container text-center py-10",children:"Бизнес олдсонгүй."})}},8317:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var t=r(4332),i=r(8819),a=r(7851),o=r.n(a),n=r(7540),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(s,l);let d={children:["",{children:["admin",{children:["businesses",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9556)),"C:\\Users\\Dell\\Documents\\Yellowbook\\Yellow-book\\apps\\web\\src\\app\\admin\\businesses\\[id]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,5729)),"C:\\Users\\Dell\\Documents\\Yellowbook\\Yellow-book\\apps\\web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,2341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Dell\\Documents\\Yellowbook\\Yellow-book\\apps\\web\\src\\app\\admin\\businesses\\[id]\\edit\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/businesses/[id]/edit/page",pathname:"/admin/businesses/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9548:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(9649).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9551:e=>{"use strict";e.exports=require("url")},9556:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(3952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Dell\\\\Documents\\\\Yellowbook\\\\Yellow-book\\\\apps\\\\web\\\\src\\\\app\\\\admin\\\\businesses\\\\[id]\\\\edit\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Dell\\Documents\\Yellowbook\\Yellow-book\\apps\\web\\src\\app\\admin\\businesses\\[id]\\edit\\page.tsx","default")},9563:(e,s,r)=>{"use strict";r.d(s,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>o,aR:()=>n});var t=r(3486),i=r(159),a=r(6518);let o=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));o.displayName="Card";let n=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let l=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle";let d=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let c=i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent",i.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},9699:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var t=r(1253);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},9933:(e,s,r)=>{"use strict";r.d(s,{default:()=>i.a});var t=r(4382),i=r.n(t)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[191,665,253,255,373,626,260,29],()=>r(8317));module.exports=t})();