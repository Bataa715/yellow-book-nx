(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{1773:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(4930),a=r.n(s)},2185:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(5394).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3353:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>n,aR:()=>i});var s=r(4568),a=r(7620),l=r(3928);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},3928:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var s=r(2987),a=r(607);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},4148:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(4568);r(7620);var a=r(615),l=r(3928);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)(n({variant:r}),t),...a})}},4231:(e,t,r)=>{Promise.resolve().then(r.bind(r,7726))},4930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return c},getImageProps:function(){return i}});let s=r(1510),a=r(7258),l=r(3970),n=s._(r(170));function i(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let c=l.Image},5563:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(5394).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},7227:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>c});var s=r(4568),a=r(7620),l=r(3801),n=r(615),i=r(3928);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:o=!1,...d}=e,u=o?l.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(c({variant:a,size:n,className:r})),ref:t,...d})});o.displayName="Button"},7726:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>j});var s=r(4568),a=r(7620);async function l(e){let t=new URLSearchParams;(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&t.set("offset",e.offset.toString()),(null==e?void 0:e.category)&&t.set("category",e.category),(null==e?void 0:e.search)&&t.set("search",e.search);let r="".concat("http://localhost:3001","/api/yellow-books").concat(t.toString()?"?".concat(t):""),s=await fetch(r,{next:{revalidate:60}});if(!s.ok)throw Error("Failed to fetch yellow books: ".concat(s.statusText));return s.json()}var n=r(3353),i=r(4148),c=r(7227),o=r(3928);function d(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,o.cn)("animate-pulse rounded-md bg-muted",t),...r})}var u=r(5563),f=r(2185),m=r(9181),x=r(9736),h=r(9668),g=r(7261),p=r.n(g),v=r(1773);function j(){let[e,t]=(0,a.useState)([]),[r,o]=(0,a.useState)(!0),[g,j]=(0,a.useState)(null),[y,b]=(0,a.useState)({total:0,limit:20,offset:0,hasMore:!1}),N=async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{o(!0);let s=await l({limit:20,offset:r});t(0===r?s.data:[...e,...s.data]),b(s.pagination),j(null)}catch(e){j(e instanceof Error?e.message:"Failed to load entries")}finally{o(!1)}};return((0,a.useEffect)(()=>{N()},[]),g&&0===e.length)?(0,s.jsx)("div",{className:"container py-12",children:(0,s.jsxs)(n.Zp,{className:"border-destructive",children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{className:"text-destructive",children:"Error"}),(0,s.jsx)(n.BT,{children:g})]}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)(c.$,{onClick:()=>N(),variant:"outline",children:"Retry"})})]})}):(0,s.jsxs)("div",{className:"container py-12",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Yellow Books"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Browse all business listings in our directory"})]}),r&&0===e.length?(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((e,t)=>(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(d,{className:"h-6 w-3/4"}),(0,s.jsx)(d,{className:"h-4 w-1/2"})]}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)(d,{className:"h-20 w-full"})})]},t))}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>(0,s.jsxs)(n.Zp,{className:"flex flex-col hover:shadow-lg transition-shadow",children:[e.logo&&(0,s.jsx)("div",{className:"relative h-48 w-full",children:(0,s.jsx)(v.default,{src:e.logo,alt:e.name,fill:!0,className:"object-cover rounded-t-lg"})}),(0,s.jsxs)(n.aR,{children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsx)(n.ZB,{className:"line-clamp-1",children:e.name}),e.rating&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,s.jsx)(u.A,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,s.jsx)("span",{className:"font-medium",children:e.rating})]})]}),(0,s.jsx)(n.BT,{className:"line-clamp-2",children:e.description})]}),(0,s.jsxs)(n.Wu,{className:"flex-1 flex flex-col gap-4",children:[(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.categories.slice(0,3).map((e,t)=>(0,s.jsx)(i.E,{variant:"secondary",children:e},t))}),(0,s.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(f.A,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),(0,s.jsx)("span",{className:"line-clamp-2",children:e.address.full})]}),e.contact.phone.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 flex-shrink-0"}),(0,s.jsx)("span",{children:e.contact.phone[0]})]}),e.contact.email&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:e.contact.email})]}),e.contact.website&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 flex-shrink-0"}),(0,s.jsx)("a",{href:e.contact.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline truncate",children:"Website"})]})]}),(0,s.jsx)("div",{className:"mt-auto pt-4",children:(0,s.jsx)(p(),{href:"/business/".concat(e.id),children:(0,s.jsx)(c.$,{className:"w-full",variant:"outline",children:"View Details"})})})]})]},e.id))}),y.hasMore&&(0,s.jsxs)("div",{className:"mt-8 text-center",children:[(0,s.jsx)(c.$,{onClick:()=>{N(y.offset+y.limit)},disabled:r,size:"lg",children:r?"Loading...":"Load More"}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Showing ",e.length," of ",y.total," entries"]})]})]})]})}},9181:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(5394).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9668:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(5394).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},9736:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(5394).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[114,261,970,587,315,358],()=>t(4231)),_N_E=e.O()}]);