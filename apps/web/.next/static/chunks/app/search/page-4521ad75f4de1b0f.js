(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{43:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5394).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1773:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(4930),s=a.n(r)},2185:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5394).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2307:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5394).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},2942:(e,t,a)=>{"use strict";var r=a(2418);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},3353:(e,t,a)=>{"use strict";a.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>n,aR:()=>o});var r=a(4568),s=a(7620),i=a(3928);let n=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});n.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});l.displayName="CardTitle";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...s})});c.displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter"},3928:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var r=a(2987),s=a(607);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},4148:(e,t,a)=>{"use strict";a.d(t,{E:()=>o});var r=a(4568);a(7620);var s=a(615),i=a(3928);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,i.cn)(n({variant:a}),t),...s})}},4601:(e,t,a)=>{"use strict";a.d(t,{zA:()=>z});var r=a(5152),s=a(9035),i=a(5339),n=a(2778),o=a(4203),l=a(1777),c=a(1854),d=a(212),m=a(9),u=a(4647),p=a(7875),f=a(9064),h=a(1512),g=a(6534),x=a(6161),v=a(1574),b=a(1375),y=a(6159),A=a(1518),j=a(7514),N=a(8647),w=a(723),k=a(1257),S=a(7428),P=a(1737);let R=JSON.parse('{"o":[{"id":"restaurant-1","description":"A cozy restaurant interior","imageUrl":"https://picsum.photos/seed/restaurant1/800/600","imageHint":"restaurant interior"},{"id":"restaurant-2","description":"A plate of delicious food","imageUrl":"https://picsum.photos/seed/food1/800/600","imageHint":"delicious food"},{"id":"cafe-1","description":"A modern cafe with people","imageUrl":"https://picsum.photos/seed/cafe1/800/600","imageHint":"modern cafe"},{"id":"cafe-2","description":"A cup of coffee on a table","imageUrl":"https://picsum.photos/seed/coffee1/800/600","imageHint":"cup coffee"},{"id":"shop-1","description":"A clothing store interior","imageUrl":"https://picsum.photos/seed/shop1/800/600","imageHint":"clothing store"},{"id":"plumber-1","description":"A plumber fixing a sink","imageUrl":"https://picsum.photos/seed/plumber1/800/600","imageHint":"plumber working"},{"id":"logo-1","description":"Modern Bull logo","imageUrl":"https://picsum.photos/seed/logo1/200/200","imageHint":"modern logo"},{"id":"logo-2","description":"Cafe cup logo","imageUrl":"https://picsum.photos/seed/logo2/200/200","imageHint":"cafe logo"},{"id":"logo-3","description":"Fashion brand logo","imageUrl":"https://picsum.photos/seed/logo3/200/200","imageHint":"fashion logo"},{"id":"logo-4","description":"Plumbing service logo","imageUrl":"https://picsum.photos/seed/logo4/200/200","imageHint":"service logo"},{"id":"avatar-1","description":"Avatar of a person","imageUrl":"https://picsum.photos/seed/avatar1/100/100","imageHint":"person avatar"},{"id":"avatar-2","description":"Avatar of another person","imageUrl":"https://picsum.photos/seed/avatar2/100/100","imageHint":"person avatar"},{"id":"avatar-3","description":"Avatar of a third person","imageUrl":"https://picsum.photos/seed/avatar3/100/100","imageHint":"person avatar"},{"id":"hero-bg","description":"Ulaanbaatar city view","imageUrl":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRkklxrz7rKS2lSsr2KKqM0YJY7GrpcB2mHfA&s","imageHint":"ulaanbaatar city"}]}').o,U=e=>{var t;return(null==(t=R.find(t=>t.id===e))?void 0:t.imageUrl)||"https://picsum.photos/seed/".concat(e,"/800/600")};U("restaurant-1"),U("restaurant-2"),U("logo-1"),U("cafe-1"),U("cafe-2"),U("logo-2"),U("shop-1"),U("logo-3"),U("plumber-1"),U("logo-4"),U("avatar-1"),U("avatar-2"),U("avatar-3");let z=[{id:"1",name:"Ресторан",icon:r.A},{id:"2",name:"Кафе",icon:s.A},{id:"3",name:"Дэлгүүр",icon:i.A},{id:"4",name:"Үйлчилгээ",icon:n.A},{id:"5",name:"Авто засвар",icon:o.A},{id:"7",name:"Эрүүл мэнд",icon:l.A},{id:"8",name:"Гоо сайхан",icon:c.A},{id:"6",name:"Бусад",icon:d.A}];r.A,s.A,i.A,n.A,o.A,l.A,c.A,m.A,u.A,p.A,f.A,h.A,g.A,x.A,v.A,b.A,y.A,A.A,j.A,N.A,w.A,k.A,S.A,P.A,d.A},4930:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return l},getImageProps:function(){return o}});let r=a(1510),s=a(7258),i=a(3970),n=r._(a(170));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let l=i.Image},5165:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var r=a(4568),s=a(7620),i=a(3928);let n=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});n.displayName="Input"},5563:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5394).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},5891:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5394).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7227:(e,t,a)=>{"use strict";a.d(t,{$:()=>c,r:()=>l});var r=a(4568),s=a(7620),i=a(3801),n=a(615),o=a(3928);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:c=!1,...d}=e,m=c?i.DX:"button";return(0,r.jsx)(m,{className:(0,o.cn)(l({variant:s,size:n,className:a})),ref:t,...d})});c.displayName="Button"},7625:(e,t,a)=>{"use strict";a.d(t,{SearchForm:()=>d});var r=a(4568),s=a(2942),i=a(5165),n=a(7227),o=a(5891),l=a(2185),c=a(1938);function d(){let e=(0,s.useRouter)(),{register:t,handleSubmit:a}=(0,c.mN)();return(0,r.jsxs)("form",{onSubmit:a(t=>{let a=new URLSearchParams;t.query&&a.append("q",t.query),t.location&&a.append("loc",t.location),e.push("/search?".concat(a.toString()))}),className:"w-full max-w-3xl bg-card/80 backdrop-blur-sm p-3 rounded-lg shadow-lg grid grid-cols-1 md:grid-cols-5 gap-2 border",children:[(0,r.jsxs)("div",{className:"relative md:col-span-2",children:[(0,r.jsx)(o.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,r.jsx)(i.p,{...t("query"),type:"search",placeholder:"Түлхүүр үг, нэр, ангилал...",className:"pl-10 w-full h-12 text-base"})]}),(0,r.jsxs)("div",{className:"relative md:col-span-2",children:[(0,r.jsx)(l.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,r.jsx)(i.p,{...t("location"),type:"search",placeholder:"Байршил, хот, дүүрэг...",className:"pl-10 w-full h-12 text-base"})]}),(0,r.jsxs)(n.$,{type:"submit",className:"w-full md:col-span-1 h-12 text-base",children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"})," Хайх"]})]})}},7692:(e,t,a)=>{Promise.resolve().then(a.bind(a,7792))},7792:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var r=a(4568),s=a(7620),i=a(2942),n=a(3353),o=a(1773),l=a(7261),c=a.n(l),d=a(4148),m=a(7227),u=a(43),p=a(5563),f=a(2185),h=a(9181),g=a(9736),x=a(9668),v=a(2307),b=a(7625),y=a(4601);function A(){let e=(0,i.useSearchParams)(),[t,a]=(0,s.useState)([]),[l,A]=(0,s.useState)(!0),j=e.get("q"),N=e.get("loc"),w=e.get("category");(0,s.useEffect)(()=>{(async()=>{A(!0);let e=new URLSearchParams;j&&e.append("q",j),N&&e.append("loc",N),w&&e.append("category",w);let t=await fetch("http://localhost:3001/api/yellow-books?".concat(e.toString()));a((await t.json()).data||[]),A(!1)})()},[j,N,w]);let k=e=>{let t=y.zA.find(t=>t.name===e);return t?(0,r.jsx)(t.icon,{className:"mr-2 h-4 w-4"}):null};return(0,r.jsxs)("div",{className:"container mx-auto max-w-7xl py-12 px-4 md:px-6",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(b.SearchForm,{})}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold tracking-tight mb-4",children:"Хайлтын үр дүн"}),w&&(0,r.jsx)(d.E,{variant:"secondary",className:"text-lg py-1 px-4",children:w})]}),l?(0,r.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,r.jsx)(u.A,{className:"h-12 w-12 animate-spin text-primary"})}):t.length>0?(0,r.jsx)("div",{className:"grid gap-8",children:t.map(e=>{var t;return(0,r.jsxs)(n.Zp,{className:"flex flex-col md:flex-row overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[(0,r.jsx)("div",{className:"md:w-1/3 relative h-64 md:h-auto",children:(0,r.jsx)(o.default,{src:(null==(t=e.images)?void 0:t[0])||e.logo||"https://picsum.photos/800/600?grayscale",alt:e.name,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"md:w-2/3",children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{className:"text-2xl font-headline hover:text-primary",children:(0,r.jsx)(c(),{href:"/business/".concat(e.id),children:e.name})}),(0,r.jsxs)("div",{className:"flex items-center pt-2 text-yellow-500",children:[[...Array(Math.floor(e.rating))].map((e,t)=>(0,r.jsx)(p.A,{className:"w-5 h-5 fill-current"},t)),e.rating%1!=0&&(0,r.jsx)(p.A,{className:"w-5 h-5 fill-current",style:{clipPath:"inset(0 50% 0 0)"}}),[...Array(5-Math.ceil(e.rating))].map((e,t)=>(0,r.jsx)(p.A,{className:"w-5 h-5 text-gray-300"},t)),(0,r.jsxs)("span",{className:"ml-2 text-sm text-muted-foreground",children:["(",e.reviewCount," сэтгэгдэл)"]})]})]}),(0,r.jsxs)(n.Wu,{className:"space-y-4",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:e.description}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.categories.map(e=>(0,r.jsxs)(d.E,{variant:"secondary",children:[k(e),e]},e))}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-foreground",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)(f.A,{className:"mt-1 mr-2 h-4 w-4 flex-shrink-0"}),(0,r.jsx)("span",{children:e.address.full})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:Array.isArray(e.contact.phone)?e.contact.phone.join(", "):e.contact.phone})]}),e.contact.email&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(g.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:e.contact.email})]}),e.contact.website&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(x.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("a",{href:e.contact.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Вэб хуудас"})]})]}),(0,r.jsx)(m.$,{asChild:!0,className:"mt-4",children:(0,r.jsxs)(c(),{href:"/business/".concat(e.id),children:["Дэлгэрэнгүй ",(0,r.jsx)(v.A,{className:"ml-2 h-4 w-4"})]})})]})]})]},e.id)})}):(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold",children:"Илэрц олдсонгүй"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2",children:"Хайлтын шалгуураа өөрчлөөд дахин оролдоно уу."})]})]})}function j(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,r.jsx)(u.A,{className:"h-12 w-12 animate-spin text-primary"})}),children:(0,r.jsx)(A,{})})}},9181:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5394).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9668:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5394).A)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},9736:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(5394).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[114,261,970,983,938,587,315,358],()=>t(7692)),_N_E=e.O()}]);