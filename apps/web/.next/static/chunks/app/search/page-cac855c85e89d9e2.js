(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{931:(e,r,t)=>{"use strict";function n(e){let{reason:r,children:t}=e;return t}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),t(3159)},2185:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(5394).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},2942:(e,r,t)=>{"use strict";var n=t(2418);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}})},3928:(e,r,t)=>{"use strict";t.d(r,{cn:()=>o});var n=t(2987),a=t(607);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,n.$)(r))}},4289:(e,r,t)=>{"use strict";function n(e){let{moduleIds:r}=e;return null}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return n}}),t(4568),t(7509),t(9669),t(2252)},4373:(e,r,t)=>{"use strict";t.r(r),t.d(r,{SimpleMap:()=>o});var n=t(4568),a=t(7620);function o(e){let{locations:r}=e,[o,s]=(0,a.useState)(null),[i,l]=(0,a.useState)(!0),c=(0,a.useRef)(null),u=(0,a.useRef)("map-".concat(Date.now(),"-").concat(Math.random()));return((0,a.useEffect)(()=>{let e=!0;return(async()=>{if(c.current&&!o)try{l(!0);let n=(await t.e(761).then(t.t.bind(t,718,23))).default;if(!document.querySelector('link[href*="leaflet.css"]')){let e=document.createElement("link");e.rel="stylesheet",e.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(e)}if(await new Promise(e=>setTimeout(e,200)),!e||!c.current)return;delete n.Icon.Default.prototype._getIconUrl,n.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});let a=r.length>0?[r[0].lat,r[0].lng]:[47.8864,106.9057],o=n.map(c.current,{center:a,zoom:r.length>1?12:15});n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(o);let i=new n.FeatureGroup;r.forEach(e=>{let r=n.marker([e.lat,e.lng]).bindPopup('\n              <div style="min-width: 200px;">\n                <h3 style="margin: 0 0 8px 0; font-weight: 600; font-size: 14px;">'.concat(e.name,'</h3>\n                <p style="margin: 0; font-size: 12px; color: #666;">').concat(e.address,"</p>\n              </div>\n            "));r.addTo(o),i.addLayer(r)}),r.length>1&&o.fitBounds(i.getBounds(),{padding:[20,20]}),e&&(s(o),l(!1))}catch(e){console.error("Map initialization failed:",e),l(!1)}})(),()=>{if(e=!1,o)try{o.remove()}catch(e){console.warn("Map cleanup error:",e)}}},[r.length]),0===r.length)?(0,n.jsx)("div",{className:"h-64 bg-muted rounded-lg flex items-center justify-center",children:(0,n.jsx)("p",{className:"text-muted-foreground",children:"Газрын зураг дээр харуулах байршил алга"})}):(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"relative",children:[i&&(0,n.jsx)("div",{className:"absolute inset-0 bg-muted rounded-lg flex items-center justify-center z-10",children:(0,n.jsx)("p",{className:"text-muted-foreground",children:"Loading map..."})}),(0,n.jsx)("div",{ref:c,className:"h-64 rounded-lg overflow-hidden border",style:{minHeight:"256px"}},u.current)]}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,n.jsxs)("p",{children:["\uD83D\uDCCD ",r.length," байршил харуулж байна"]})})]})}},5165:(e,r,t)=>{"use strict";t.d(r,{p:()=>s});var n=t(4568),a=t(7620),o=t(3928);let s=a.forwardRef((e,r)=>{let{className:t,type:a,...s}=e;return(0,n.jsx)("input",{type:a,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s})});s.displayName="Input"},5967:(e,r,t)=>{Promise.resolve().then(t.bind(t,4373)),Promise.resolve().then(t.bind(t,7280)),Promise.resolve().then(t.t.bind(t,7261,23)),Promise.resolve().then(t.t.bind(t,3970,23)),Promise.resolve().then(t.bind(t,931)),Promise.resolve().then(t.bind(t,4289))},6035:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,t(9113).createAsyncLocalStorage)()},7227:(e,r,t)=>{"use strict";t.d(r,{$:()=>c,r:()=>l});var n=t(4568),a=t(7620),o=t(9649),s=t(615),i=t(3928);let l=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,r)=>{let{className:t,variant:a,size:s,asChild:c=!1,...u}=e,d=c?o.DX:"button";return(0,n.jsx)(d,{className:(0,i.cn)(l({variant:a,size:s,className:t})),ref:r,...u})});c.displayName="Button"},7280:(e,r,t)=>{"use strict";t.d(r,{SearchForm:()=>u});var n=t(4568),a=t(2942),o=t(5165),s=t(7227);let i=(0,t(5394).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var l=t(2185),c=t(1938);function u(){let e=(0,a.useRouter)(),{register:r,handleSubmit:t}=(0,c.mN)();return(0,n.jsxs)("form",{onSubmit:t(r=>{let t=new URLSearchParams;r.query&&t.append("q",r.query),r.location&&t.append("loc",r.location),e.push("/search?".concat(t.toString()))}),className:"w-full max-w-4xl bg-white p-4 rounded-2xl shadow-xl border border-gray-200/50 backdrop-blur-sm grid grid-cols-1 md:grid-cols-7 gap-3",children:[(0,n.jsxs)("div",{className:"relative md:col-span-3",children:[(0,n.jsx)(i,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,n.jsx)(o.p,{...r("query"),type:"search",placeholder:"Ресторан, эмнэлэг, банк...",className:"pl-12 pr-4 h-14 text-base border-gray-200 focus:border-primary focus:ring-primary/20 rounded-xl bg-gray-50/50 hover:bg-white transition-all"})]}),(0,n.jsxs)("div",{className:"relative md:col-span-3",children:[(0,n.jsx)(l.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),(0,n.jsx)(o.p,{...r("location"),type:"search",placeholder:"Баянзүрх, Сүхбаатар, Хан-Уул...",className:"pl-12 pr-4 h-14 text-base border-gray-200 focus:border-primary focus:ring-primary/20 rounded-xl bg-gray-50/50 hover:bg-white transition-all"})]}),(0,n.jsxs)(s.$,{type:"submit",className:"w-full md:col-span-1 h-14 text-base bg-primary hover:bg-primary/90 shadow-lg hover:shadow-xl transition-all duration-200 rounded-xl font-semibold",children:[(0,n.jsx)(i,{className:"mr-2 h-5 w-5"}),"Хайх"]})]})}},9113:(e,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{bindSnapshot:function(){return s},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return i}});let t=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw t}getStore(){}run(){throw t}exit(){throw t}enterWith(){throw t}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return a?new a:new n}function s(e){return a?a.bind(e):n.bind(e)}function i(){return a?a.snapshot():function(e,...r){return e(...r)}}},9669:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=t(6035)}},e=>{var r=r=>e(e.s=r);e.O(0,[738,261,938,970,587,315,358],()=>r(5967)),_N_E=e.O()}]);