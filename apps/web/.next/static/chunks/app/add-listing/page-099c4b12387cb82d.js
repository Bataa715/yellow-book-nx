(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{649:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>u});var n=r(4568),l=r(1938),i=r(60),t=r(880),c=r(7227),a=r(5725),o=r(5165),d=r(3353),x=r(3547),j=r(7129),h=r(4601),m=r(2996);let p=t.Ik({businessName:t.Yj().min(2,"Нэр дор хаяж 2 үсэгтэй байх ёстой."),description:t.Yj().min(20,"Тайлбар дор хаяж 20 тэмдэгттэй байх ёстой."),categories:t.YO(t.Yj()).min(1,"Дор хаяж нэг ангилал сонгоно уу."),phone:t.Yj().min(8,"Утасны дугаар буруу байна."),email:t.Yj().email("Имэйл хаяг буруу байна.").optional().or(t.eu("")),website:t.Yj().url("Вэбсайт хаяг буруу байна.").optional().or(t.eu("")),address:t.Yj().min(5,"Хаяг дор хаяж 5 тэмдэгттэй байх ёстой.")});function u(){let{toast:e}=(0,x.dj)(),s=(0,l.mN)({resolver:(0,i.u)(p),defaultValues:{businessName:"",description:"",categories:[],phone:"",email:"",website:"",address:""}});async function r(r){try{let n=await fetch("http://localhost:3001/api/yellow-books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok)throw Error("Failed to create business");let l=await n.json();console.warn("Business created:",l),e({title:"Амжилттай!",description:'"'.concat(r.businessName,'" нэртэй бизнес амжилттай бүртгэгдлээ.')}),s.reset()}catch(s){console.error("Error creating business:",s),e({variant:"destructive",title:"Алдаа гарлаа",description:"Бизнес бүртгэхэд алдаа гарлаа. Дахин оролдоно уу."})}}return(0,n.jsx)("div",{className:"container mx-auto max-w-4xl py-12 px-4 md:px-6",children:(0,n.jsxs)(d.Zp,{className:"shadow-xl",children:[(0,n.jsxs)(d.aR,{children:[(0,n.jsx)(d.ZB,{className:"text-3xl font-headline",children:"Шинэ бизнес бүртгүүлэх"}),(0,n.jsx)(d.BT,{children:"Танай бизнесийн мэдээллийг үнэн зөв оруулна уу."})]}),(0,n.jsx)(d.Wu,{children:(0,n.jsx)(a.lV,{...s,children:(0,n.jsxs)("form",{onSubmit:s.handleSubmit(r),className:"space-y-8",children:[(0,n.jsx)(a.zB,{control:s.control,name:"businessName",render:e=>{let{field:s}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Бизнесийн нэр"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(o.p,{placeholder:"Жишээ нь: Modern Nomads",...s})}),(0,n.jsx)(a.C5,{})]})}}),(0,n.jsx)(a.zB,{control:s.control,name:"description",render:e=>{let{field:s}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Дэлгэрэнгүй тайлбар"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(j.T,{placeholder:"Танай бизнесийн талаар дэлгэрэнгүй тайлбар. Жишээ нь: 'Бид Улаанбаатар хотод байрлах итали ресторанаар пицца, паста зэрэг хоолоор үйлчилдэг...'",rows:6,...s})}),(0,n.jsx)(a.C5,{})]})}}),(0,n.jsx)(a.zB,{control:s.control,name:"categories",render:()=>(0,n.jsxs)(a.eI,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(a.lR,{children:"Ангилал"}),(0,n.jsx)(a.Rr,{children:"Өөрийн бизнест тохирох ангилалуудыг сонгоно уу."})]}),(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-2",children:h.zA.map(e=>(0,n.jsx)(a.zB,{control:s.control,name:"categories",render:s=>{var r;let{field:l}=s;return(0,n.jsxs)(a.eI,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,n.jsx)(a.MJ,{children:(0,n.jsx)(m.S,{checked:null==(r=l.value)?void 0:r.includes(e.name),onCheckedChange:s=>{var r;return s?l.onChange([...l.value,e.name]):l.onChange(null==(r=l.value)?void 0:r.filter(s=>s!==e.name))}})}),(0,n.jsx)(a.lR,{className:"font-normal",children:e.name})]},e.id)}},e.id))}),(0,n.jsx)(a.C5,{})]})}),(0,n.jsx)(a.zB,{control:s.control,name:"phone",render:e=>{let{field:s}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Үндсэн утасны дугаар"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(o.p,{type:"tel",placeholder:"7011-xxxx",...s})}),(0,n.jsx)(a.C5,{})]})}}),(0,n.jsx)(a.zB,{control:s.control,name:"email",render:e=>{let{field:s}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Имэйл хаяг (заавал биш)"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(o.p,{type:"email",placeholder:"info@company.mn",...s})}),(0,n.jsx)(a.C5,{})]})}}),(0,n.jsx)(a.zB,{control:s.control,name:"website",render:e=>{let{field:s}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Вэбсайт (заавал биш)"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(o.p,{placeholder:"https://www.company.mn",...s})}),(0,n.jsx)(a.C5,{})]})}}),(0,n.jsx)(a.zB,{control:s.control,name:"address",render:e=>{let{field:s}=e;return(0,n.jsxs)(a.eI,{children:[(0,n.jsx)(a.lR,{children:"Дэлгэрэнгүй хаяг"}),(0,n.jsx)(a.MJ,{children:(0,n.jsx)(o.p,{placeholder:"Сүхбаатар дүүрэг, 1-р хороо, ...",...s})}),(0,n.jsx)(a.C5,{})]})}}),(0,n.jsx)(c.$,{type:"submit",size:"lg",className:"w-full",children:"Бүртгүүлэх"})]})})})]})})}},1040:(e,s,r)=>{Promise.resolve().then(r.bind(r,649))}},e=>{var s=s=>e(e.s=s);e.O(0,[114,983,938,988,550,587,315,358],()=>s(1040)),_N_E=e.O()}]);