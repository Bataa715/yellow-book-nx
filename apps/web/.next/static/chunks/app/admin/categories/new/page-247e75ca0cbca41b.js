(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{43:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5394).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},210:(e,s,t)=>{"use strict";t.d(s,{X:()=>i});var r=t(7620),a=t(7247);function i(e){let[s,t]=r.useState(void 0);return(0,a.N)(()=>{if(e){t({width:e.offsetWidth,height:e.offsetHeight});let s=new ResizeObserver(s=>{let r,a;if(!Array.isArray(s)||!s.length)return;let i=s[0];if("borderBoxSize"in i){let e=i.borderBoxSize,s=Array.isArray(e)?e[0]:e;r=s.inlineSize,a=s.blockSize}else r=e.offsetWidth,a=e.offsetHeight;t({width:r,height:a})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}t(void 0)},[e]),s}},2702:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(7620);function a(e){let s=r.useRef({value:e,previous:e});return r.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}},2838:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var r=t(4568),a=t(7620),i=t(2942),n=t(7227),l=t(3353),c=t(5165),d=t(2555),o=t(4675),u=t(6578),h=t(43),m=t(7261),x=t.n(m),p=t(3547),v=t(7599);function f(){let[e,s]=(0,a.useState)(""),[t,m]=(0,a.useState)(""),[f,j]=(0,a.useState)(!1),b=(0,i.useRouter)(),{toast:g}=(0,p.dj)(),y=async s=>{if(s.preventDefault(),!e.trim())return void g({variant:"destructive",title:"Алдаа",description:"Категорийн нэрийг оруулна уу."});if(!t)return void g({variant:"destructive",title:"Алдаа",description:"Айкон сонгоно уу."});j(!0);try{let s=await fetch("http://localhost:3001/api/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.trim(),icon:t})});if(!s.ok){let e=await s.json();throw Error(e.message||"Failed to create category")}g({title:"Амжилттай",description:"Шинэ категори амжилттай нэмэгдлээ."}),b.push("/admin/categories")}catch(e){console.error("Failed to create category:",e),g({variant:"destructive",title:"Алдаа",description:e instanceof Error?e.message:"Категори нэмэхэд алдаа гарлаа."})}finally{j(!1)}},N=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().substring(1);return(0,r.jsxs)("div",{className:"container mx-auto max-w-2xl py-12 px-4 md:px-6",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(n.$,{asChild:!0,variant:"outline",children:(0,r.jsxs)(x(),{href:"/admin/categories",children:[(0,r.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Буцах"]})})}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Шинэ категори нэмэх"}),(0,r.jsx)(l.BT,{children:"Шинэ бизнесийн категори үүсгэнэ үү."})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"name",children:"Категорийн нэр"}),(0,r.jsx)(c.p,{id:"name",type:"text",placeholder:"Жишээ: Ресторан",value:e,onChange:e=>s(e.target.value),disabled:f})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"icon",children:"Айкон"}),(0,r.jsxs)(o.l6,{value:t,onValueChange:m,disabled:f,children:[(0,r.jsx)(o.bq,{children:(0,r.jsx)(o.yv,{placeholder:"Айкон сонгоно уу"})}),(0,r.jsx)(o.gC,{children:v.T_.map(e=>{let s=e.component,t=N(e.name);return(0,r.jsx)(o.eb,{value:t,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(s,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:e.name})]})},e.name)})})]})]}),t&&(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-50",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Танилцуулга:"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(()=>{let e=v.T_.find(e=>N(e.name)===t);if(e){let s=e.component;return(0,r.jsx)(s,{className:"w-5 h-5"})}return null})(),(0,r.jsx)("span",{className:"font-medium",children:e||"Категорийн нэр"})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)(n.$,{type:"submit",disabled:f,children:[f&&(0,r.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}),f?"Нэмж байна...":"Категори нэмэх"]}),(0,r.jsx)(n.$,{asChild:!0,type:"button",variant:"outline",children:(0,r.jsx)(x(),{href:"/admin/categories",children:"Цуцлах"})})]})]})})]})]})}},4741:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(5394).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6559:(e,s,t)=>{"use strict";t.d(s,{b:()=>l});var r=t(7620),a=t(7156),i=t(4568),n=r.forwardRef((e,s)=>(0,i.jsx)(a.sG.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));n.displayName="Label";var l=n},7359:(e,s,t)=>{Promise.resolve().then(t.bind(t,2838))}},e=>{var s=s=>e(e.s=s);e.O(0,[738,261,423,983,985,898,19,587,315,358],()=>s(7359)),_N_E=e.O()}]);